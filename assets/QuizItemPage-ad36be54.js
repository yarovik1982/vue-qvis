import{_ as y,o as n,c as l,a as e,t as o,F as $,d as Q,n as A,r as q,f as p,w as L,g as H,h as P,i as k,j as R,k as M,e as g,l as C,m as B,p as I,T as N,q as V,s as T,u as F,x as j,y as z}from"./index-0214d71d.js";import{q as D}from"./quizes-358c98e9.js";const E={class:"question-container"},U={class:"question"},G={class:"options-container"},J=["onClick"],K={class:"option-label"},W={class:"option-value"},X={__name:"Question",props:["question"],emits:["selectOption"],setup(s,{emit:d}){const _=d,a=t=>{_("selectOption",t)};return(t,i)=>(n(),l("div",E,[e("h1",U,o(s.question.text),1),e("div",G,[(n(!0),l($,null,Q(s.question.options,u=>(n(),l("div",{class:"option",key:u.id,onClick:v=>a(u.isCorrect)},[e("p",K,o(u.label),1),e("div",W,[e("p",null,o(u.text),1)])],8,J))),128))])]))}},Y=y(X,[["__scopeId","data-v-82249395"]]);const Z={class:"quiz-header"},ee={class:"bar"},se={__name:"QuizHeader",props:["questionStatus","barPercentage"],setup(s){return(d,_)=>(n(),l("header",Z,[e("h4",null,"Вопрос "+o(s.questionStatus),1),e("div",ee,[e("div",{class:"completion",style:A({width:s.barPercentage})},null,4)])]))}},te=y(se,[["__scopeId","data-v-55d7f05b"]]);const r=s=>(V("data-v-0dd7e80d"),s=s(),T(),s),oe={class:"result-header"},ne=r(()=>e("p",null,"Ваш результат",-1)),ae={class:"statistics"},ie={class:"stat-item"},ce={class:"stat-value"},le=r(()=>e("div",{class:"stat-label"},"Процент правильных ответов",-1)),ue={class:"stat-item"},re={class:"stat-value"},de=r(()=>e("div",{class:"stat-label"},"Правильных ответов",-1)),_e={class:"stat-value"},ve=r(()=>e("div",{class:"stat-label"},"Неправильных ответов",-1)),he=r(()=>e("div",{class:"click-hint"},"Нажмите, чтобы посмотреть",-1)),me=r(()=>e("h2",null,"Неправильные ответы",-1)),pe={class:"modal-body"},fe={class:"question-text"},qe={class:"answers"},be={class:"correct-answer"},ge=r(()=>e("span",{class:"label"},"Правильный ответ:",-1)),ye={class:"user-answer"},we=r(()=>e("span",{class:"label"},"Ваш ответ:",-1)),ke={__name:"Result",props:["quizQuestionLength","numberOfCorrectAnswer","answersHistory"],setup(s){const{quizQuestionLength:d,numberOfCorrectAnswer:_,answersHistory:a}=s,t=q(!1),i=p(()=>Math.round(_/d*100)),u=p(()=>i.value>=80?"Отличный результат!":i.value>=60?"Хороший результат!":i.value>=40?"Неплохо, но есть куда расти":"Стоит повторить материал"),v=p(()=>i.value>=80?"excellent":i.value>=60?"good":i.value>=40?"average":"poor"),f=p(()=>a.filter(m=>!m.isCorrect)),h=()=>{t.value=!t.value};return L(t,m=>{m?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),H(()=>{document.body.style.overflow="auto"}),(m,c)=>{const b=P("RouterLink");return n(),l("div",{class:k(["results",{"no-scroll":t.value}])},[e("div",oe,[ne,e("h1",{class:k(v.value)},o(s.numberOfCorrectAnswer)+"/"+o(s.quizQuestionLength),3)]),e("div",ae,[e("div",ie,[e("div",ce,o(i.value)+"%",1),le]),e("div",ue,[e("div",re,o(s.numberOfCorrectAnswer),1),de]),e("div",{class:"stat-item clickable",onClick:h},[e("div",_e,o(s.quizQuestionLength-s.numberOfCorrectAnswer),1),ve,he])]),e("div",{class:k(["result-message",v.value])},o(u.value),3),R(b,{to:"/quiz",class:"back-link"},{default:M(()=>[C("Вернуться к тестам")]),_:1}),(n(),g(N,{to:"body"},[t.value?(n(),l("div",{key:0,class:"modal-overlay",onClick:h},[e("div",{class:"modal-content",onClick:c[0]||(c[0]=B(()=>{},["stop"]))},[e("div",{class:"modal-header"},[me,e("button",{class:"close-button",onClick:h},"×")]),e("div",pe,[(n(!0),l($,null,Q(f.value,(w,O)=>{var x;return n(),l("div",{key:O,class:"incorrect-answer"},[e("div",fe,o(w.question.text),1),e("div",qe,[e("div",be,[ge,C(" "+o(w.question.options.find(S=>S.isCorrect).text),1)]),e("div",ye,[we,C(" "+o(((x=w.userAnswer)==null?void 0:x.text)||"Не выбран"),1)])])])}),128))])])])):I("",!0)]))],2)}}},Ce=y(ke,[["__scopeId","data-v-0dd7e80d"]]);const xe={class:"quiz-page"},ze={class:"quiz-content"},$e={__name:"QuizItemPage",setup(s){F();const d=j(),_=parseInt(d.params.id),a=D.find(c=>c.id===_),t=q(0),i=p(()=>`${t.value+1}/${a.questions.length}`),u=p(()=>`${t.value/a.questions.length*100}%`),v=q(0),f=q(!1),h=q([]),m=c=>{h.value.push({question:a.questions[t.value],isCorrect:c,userAnswer:a.questions[t.value].options.find(b=>b.isCorrect===c)}),c&&v.value++,t.value++,t.value===a.questions.length&&(f.value=!0)};return(c,b)=>(n(),l("div",xe,[f.value?I("",!0):(n(),g(te,{key:0,questionStatus:i.value,barPercentage:u.value},null,8,["questionStatus","barPercentage"])),e("div",ze,[f.value?(n(),g(Ce,{key:1,quizQuestionLength:z(a).questions.length,numberOfCorrectAnswer:v.value,answersHistory:h.value},null,8,["quizQuestionLength","numberOfCorrectAnswer","answersHistory"])):(n(),g(Y,{key:0,question:z(a).questions[t.value],onSelectOption:m},null,8,["question"]))])]))}},Oe=y($e,[["__scopeId","data-v-f7b6b180"]]);export{Oe as default};
